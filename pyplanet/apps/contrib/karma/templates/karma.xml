{% extends 'core.views/generics/widget.xml' %}

{% block content %}
  <frame pos="1 0">
    {% if current_karma == 0 %}
      {% for i in range(0, 10) %}
        <quad pos="{{ (loop.index0 * 2.8) + 1.5 }} -1" size="2.8 4.5" image="http://kreipe.patrick.coolserverhosting.de/local/grey.jpg"/>
      {% endfor %}
    {% else %}
      {% for i in range(0, positive_blocks) %}
        <quad pos="{{ (i * 2.8) + 1.5 }} -1" size="2.8 4.5" image="http://kreipe.patrick.coolserverhosting.de/local/green.jpg"/>
      {% endfor %}
      {% for i in range(positive_blocks, 10) %}
        <quad pos="{{ (i * 2.8) + 1.5 }} -1" size="2.8 4.5" image="http://kreipe.patrick.coolserverhosting.de/local/red.jpg"/>
      {% endfor %}
    {% endif %}
  </frame>

  {% if player_vote == -1 %}
    <quad pos="1.75 -5.25" size="6.5 6.5" z-index="0" style="Icons64x64_1" substyle="LvlRed" />
  {% endif %}
  <quad pos="2 -5.5" size="6 6" z-index="1" style="Icons64x64_1" substyle="Sub" action="{{ id }}__vote_negative" />

  <label pos="16.5 -7.3" size="5 2" text="$s$o{{ karma_color }}{{ current_karma }}" textsize="1" halign="center" />
  <label pos="5 -11.2" size="5 2" text="$s$f00{{ negative_votes }}" textsize="0.8" halign="center" />
  <label pos="16.5 -11.2" size="10 2" text="$s{{ current_karma_percentage }}%" textsize="0.8" halign="center" />
  <label pos="28 -11.2" size="5 2" text="$s$3f3{{ positive_votes }}" textsize="0.8" halign="center" />

  {% if player_vote == 1 %}
    <quad pos="24.75 -5.25" size="6.5 6.5" z-index="0" style="Icons64x64_1" substyle="LvlGreen" />
  {% endif %}
  <quad pos="25 -5.5" size="6 6" z-index="1" style="Icons64x64_1" substyle="Add" action="{{ id }}__vote_positive" />
{% endblock %}
